
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Uncertainty &amp; Quantum Money &#8212; Quantum Computing using Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=ab0149b2" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/03_quantum_protocols/03_01_quantum_money';</script>
    <link rel="canonical" href="https://learn-quantum.github.io/lqc-textbook/chapters/03_quantum_protocols/03_01_quantum_money.html" />
    <link rel="icon" href="../../_static/nabla.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Bell Inequalities (CHSH)" href="03_02_bell_chsh.html" />
    <link rel="prev" title="Quantum Building Blocks" href="../02_quantum_computing/02_05_quantum_blocks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.svg" class="logo__image only-light" alt="Quantum Computing using Python - Home"/>
    <script>document.write(`<img src="../../_static/logo.svg" class="logo__image only-dark" alt="Quantum Computing using Python - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../00_getting_started/00_00_welcome.html">About the Textbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../00_getting_started/00_01_setting_env.html">Setting Up your Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../00_getting_started/00_02_qiskit_config.html">Configuring Qiskit</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Classical Computing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01_classical_computing/01_01_bits_and_circuits.html">Bits and Digital Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_classical_computing/01_02_reversible_computing.html">Reversible Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_classical_computing/01_03_bits_to_vectors.html">Linear Algebra for Reversible Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_classical_computing/01_04_probabilistic_circuits.html">Probabilistic Computing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quantum Computing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../02_quantum_computing/02_01_bits_to_qubits.html">Qubits and Quantum Circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_quantum_computing/02_02_entanglement.html">Quantum Entanglement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_quantum_computing/02_03_single_qb_sys.html">Single-Qubit Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_quantum_computing/02_04_multi_qb_sys.html">Multi-Qubit Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_quantum_computing/02_05_quantum_blocks.html">Quantum Building Blocks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quantum Protocols</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Uncertainty &amp; Quantum Money</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_02_bell_chsh.html">Bell Inequalities (CHSH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_03_bb84_e91.html">The BB84 &amp; E91 Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_04_teleportation.html">Quantum Teleportation</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_05_superdense_coding.html">Superdense Coding</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quantum Algorithms</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_01_deutsch-jozsa.html">Deutsch-Jozsa Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_02_bernstein-vazirani.html">Bernstein–Vazirani Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_03_simons.html">Simon’s Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_04_grover.html">Grover’s Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_05_amp_amp.html">Amplitude Amplification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_quantum_algorithms/04_06_qft.html">Quantum Fourier Transform</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/learn-quantum/lqc-textbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/learn-quantum/lqc-textbook/issues/new?title=Issue%20on%20page%20%2Fchapters/03_quantum_protocols/03_01_quantum_money.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/chapters/03_quantum_protocols/03_01_quantum_money.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Uncertainty & Quantum Money</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-uncertainty">1. Quantum Uncertainty</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-quantum-uncertainty">1.1 Understanding Quantum Uncertainty</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-uncertainty-with-qubits">1.2 Quantum Uncertainty with Qubits</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-money">2. Quantum Money</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnotes">Footnotes</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="uncertainty-quantum-money">
<h1>Uncertainty &amp; Quantum Money<a class="headerlink" href="#uncertainty-quantum-money" title="Link to this heading">#</a></h1>
<hr></hr><p><a name="back1"></a> Quantum money refers to a cryptographic protocol designed to protect certain assets (like currency) from being copied and counterfeited. It was first proposed by Stephen Wiesner and published in 1983 in his paper entitled “Conjugate Coding” <a class="reference external" href="https://dl.acm.org/doi/pdf/10.1145/1008908.1008920">[Weisner83]</a><a class="reference internal" href="#footnote1"><span class="xref myst"><span class="math notranslate nohighlight">\(^*\)</span></span></a>.</p>
<p>The protocol relies on the <a class="reference external" href="https://en.wikipedia.org/wiki/Uncertainty_principle">uncertainty principle</a> of quantum mechanics, which states that there is a fundamental limit to how precisely one can simultaneously determine the values of two physical properties of a quantum system, commonly referred to as complementary or <strong>conjugate</strong> variables. In the original paper, this is exemplified using spin <span class="math notranslate nohighlight">\(1/2\)</span> particles, but as we’ve seen in previous chapters, we can map spin to the more general framework of quantum circuits, and use the values a qubit takes in either the bit basis or sign basis as the pair of conjugate properties.</p>
<section id="quantum-uncertainty">
<h2>1. Quantum Uncertainty<a class="headerlink" href="#quantum-uncertainty" title="Link to this heading">#</a></h2>
<p>The uncertainty principle is most typically introduced in the context of a particle with position <span class="math notranslate nohighlight">\(x\)</span> and momentum <span class="math notranslate nohighlight">\(p.\)</span> According to the rules of quantum mechanics, the precision with which these two properties can be simultaneously measured is constrained by the following Heisenberg’s uncertainty inequality:</p>
<div class="math notranslate nohighlight">
\[ \Delta x\Delta p \geq \frac{\hbar}{2} .\]</div>
<p>Here, <span class="math notranslate nohighlight">\(\Delta x\)</span> and <span class="math notranslate nohighlight">\(\Delta  p\)</span> correspond to the <a class="reference external" href="https://en.wikipedia.org/wiki/Standard_deviation#Standard_deviation_of_the_mean">standard deviation</a> of position and momentum, respectively, and <span class="math notranslate nohighlight">\(\hbar\)</span> is the <a class="reference external" href="https://en.wikipedia.org/wiki/Planck_constant#Reduced_Planck_constant">reduced Planck constant</a>. This equation basically says that, if one tries to, for example, measure the position of a particle very precisely (making <span class="math notranslate nohighlight">\(\Delta x\)</span> very small), the uncertainty in the momentum (specified by <span class="math notranslate nohighlight">\(\Delta p\)</span>) must grow to guarantee that their product is always larger or equal to a fundamental constant, given by <span class="math notranslate nohighlight">\(\hbar/2\)</span>.</p>
<p>The concept of uncertainty generalizes to many other pairs of conjugate properties, such as the perpendicular directions along which the spin of an electron is measured, or in our case, two orthogonal basis a qubit can be measured in.</p>
<p>In this section, we will introduce the concept of uncertainty using a simple example that captures the spirit of this idea, and then discuss the formal formulation of the uncertainty principle using observables (although, these details, which are presented in section 1.2, won’t be necessary to understand the quantum money protocol, so feel free to skip it).</p>
<section id="understanding-quantum-uncertainty">
<h3>1.1 Understanding Quantum Uncertainty<a class="headerlink" href="#understanding-quantum-uncertainty" title="Link to this heading">#</a></h3>
<p>Let’s consider the case of a classical bar magnet with its north pointing diagonally along one of the following four directions <span class="math notranslate nohighlight">\((\textit{I}, \textit{II}, \textit{III}, \textit{IV})\)</span>:</p>
<a class="reference internal image-reference" href="../../_images/03_01_01_barmag_orientation.png"><img alt="../../_images/03_01_01_barmag_orientation.png" class="align-center" src="../../_images/03_01_01_barmag_orientation.png" style="width: 800px;" />
</a>
<p>One way to figure out in which of these four configurations a magnet could be in, is by using a set of Stern-Gerlach (SG) devices:</p>
<a class="reference internal image-reference" href="../../_images/03_01_02_barmag_SG.png"><img alt="../../_images/03_01_02_barmag_SG.png" class="align-center" src="../../_images/03_01_02_barmag_SG.png" style="width: 600px;" />
</a>
<p>Passing bar magnets with their north pointing in directions <span class="math notranslate nohighlight">\(\textit{I}\)</span> and <span class="math notranslate nohighlight">\(\textit{II}\)</span> through the first SG apparatus, which has its magnetic field gradient along the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> direction, will cause the magnets to deflect in the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> direction. On the other hand, magnets in configurations <span class="math notranslate nohighlight">\(\textit{III}\)</span> and <span class="math notranslate nohighlight">\(\textit{IV}\)</span> will be deflected in the <span class="math notranslate nohighlight">\(\texttt{-}x\)</span> direction.</p>
<p>We can then take the magnets that deflected in the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> direction and pass them through a second SG device with its gradient along the <span class="math notranslate nohighlight">\(\texttt{+}z\)</span> direction. This will deflect magnets in configuration <span class="math notranslate nohighlight">\(\textit{I}\)</span> in the <span class="math notranslate nohighlight">\(\texttt{+}z\)</span> direction, and magnets configuration <span class="math notranslate nohighlight">\(\textit{II}\)</span> in the <span class="math notranslate nohighlight">\(\texttt{-}z\)</span> direction. Doing the same with magnets that deflected in the <span class="math notranslate nohighlight">\(\texttt{-}x\)</span> direction will then allow us to clearly identify the four possible configurations by looking at where in the screen the magnets landed.</p>
<p>But what if we want to perform the experiment with electrons instead?:</p>
<a class="reference internal image-reference" href="../../_images/03_01_04_spin_orientation.png"><img alt="../../_images/03_01_04_spin_orientation.png" class="align-center" src="../../_images/03_01_04_spin_orientation.png" style="width: 800px;" />
</a>
<p>We could try running them through the same series of SG devices; however, as we’ve shown before, the non-deterministic behavior of these particles introduces a few challenges:</p>
<a class="reference internal image-reference" href="../../_images/03_01_03_spin_SG.png"><img alt="../../_images/03_01_03_spin_SG.png" class="align-center" src="../../_images/03_01_03_spin_SG.png" style="width: 600px;" />
</a>
<p>The first issue is that, running an electron-like particle through the first SG apparatus will deflect it <strong>probabilistically</strong> in either the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> or <span class="math notranslate nohighlight">\(\texttt{-}x\)</span> direction with probabilities of:</p>
<div class="math notranslate nohighlight">
\[ P_{\texttt{+}x}(\theta) = \frac{1}{2}\big(1 + \sin(\theta) \big) \quad \text{and} \quad P_{\texttt{-}x}(\theta) = \frac{1}{2}\big(1 - \sin(\theta) \big) .\]</div>
<p>Therefore, if we want to figure out the particle’s direction along the <span class="math notranslate nohighlight">\(x\)</span> axis, we need to be able to prepare the same configuration more than once, and collect statistics of the results. Assuming we can do this, it is then not so difficult to figure out if the particle is in either configurations <span class="math notranslate nohighlight">\(\textit{I} \text{-} \textit{II}\)</span>, or in configurations <span class="math notranslate nohighlight">\(\textit{III} \text{-} \textit{IV} .\)</span> This is because:</p>
<ul>
<li><p>For configurations <span class="math notranslate nohighlight">\(\textit{I}\)</span> and <span class="math notranslate nohighlight">\(\textit{II}\)</span>, the corresponding angles are <span class="math notranslate nohighlight">\(\pi/4\)</span> and <span class="math notranslate nohighlight">\(3\pi/4\)</span>, which result in a high probability of the particle deflecting in the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> direction:</p>
<div class="math notranslate nohighlight">
\[ P_{\texttt{+}x}\left(\frac{\pi}{4}\right) = P_{\texttt{+}x}\left(\frac{3\pi}{4}\right) \approx 0.853 \quad \text{and} \quad P_{\texttt{-}x}\left(\frac{\pi}{4}\right) = P_{\texttt{-}x}\left(\frac{3\pi}{4}\right) \approx 0.146 .\]</div>
</li>
<li><p>For configurations <span class="math notranslate nohighlight">\(\textit{III}\)</span> and <span class="math notranslate nohighlight">\(\textit{IV}\)</span>, the corresponding angles are <span class="math notranslate nohighlight">\(5\pi/4\)</span> and <span class="math notranslate nohighlight">\(7\pi/4\)</span>, which result in a high probability of the particle deflecting in the <span class="math notranslate nohighlight">\(\texttt{-}x\)</span> direction:</p>
<div class="math notranslate nohighlight">
\[ P_{\texttt{+}x}\left(\frac{5\pi}{4}\right) = P_{\texttt{+}x}\left(\frac{7\pi}{4}\right) \approx 0.146 \quad \text{and} \quad P_{\texttt{-}x}\left(\frac{5\pi}{4}\right) = P_{\texttt{-}x}\left(\frac{7\pi}{4}\right) \approx 0.853 .\]</div>
</li>
</ul>
<p>Now, here is the real problem. Once we run a particle through the first SG device, its spin will be projected to point along the <span class="math notranslate nohighlight">\(\texttt{+}x\)</span> or <span class="math notranslate nohighlight">\(\texttt{-}x\)</span> direction. So, running these particles through the second SG apparatus, which is oriented along the <span class="math notranslate nohighlight">\(z\)</span> axis, will cause them to deflect either upwards or downwards but not with a probability associated with the original particle’s orientation! Rather, the probability of the particle deflecting up or down is always <span class="math notranslate nohighlight">\(1/2\)</span>. In other words, performing a measurement along the <span class="math notranslate nohighlight">\(x\)</span> axis in a sense “scrambles” the information about the particle’s original <span class="math notranslate nohighlight">\(z\)</span> orientation, preventing us from knowing in which of the four configurations the particle was in. Therefore, there is simply no way to measure both the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(z\)</span> orientation of an electron using this setup.</p>
<p>We then say that these observable properties (spin along <span class="math notranslate nohighlight">\(x\)</span>, and spin along <span class="math notranslate nohighlight">\(z\)</span>) are <strong>incompatible</strong>. Just like the position and momentum of a moving particle, <span class="math notranslate nohighlight">\(x\)</span>-spin and <span class="math notranslate nohighlight">\(z\)</span>-spin are conjugate variables, which means that measuring one of them increases our uncertainty of the other. This seems like an annoying inconvenience; however, it is precisely this property that the quantum money protocol exploits to make some valuable asset secure.</p>
<p><strong>NOTE</strong>: The material covered in section 1.1 should be more than enough to provide the background necessary for the quantum money protocol. Section 1.2 simply provides a more detailed description of the uncertainty principle in the context of qubits and it is therefore not strictly necessary to understand quantum money.</p>
</section>
<section id="quantum-uncertainty-with-qubits">
<h3>1.2 Quantum Uncertainty with Qubits<a class="headerlink" href="#quantum-uncertainty-with-qubits" title="Link to this heading">#</a></h3>
<p>Since electron spin is one of the many different physical implementations for a qubit, it should be no surprise that the same effect of incompatible observables we saw above shows up in the case of a general qubit. Therefore, we can construct an uncertainty relation using the language of statevectors and observables we have previously introduced.</p>
<p>To keep things simple, let’s first consider the case of a qubit in the <span class="math notranslate nohighlight">\(xz\)</span>-plane, pointing at some angle <span class="math notranslate nohighlight">\(\theta\)</span> with respect to the <span class="math notranslate nohighlight">\(+z\)</span> direction:</p>
<div class="math notranslate nohighlight">
\[|q\rangle = \cos\left(\frac{\theta}{2} \right)|0\rangle + \sin\left(\frac{\theta}{2} \right)|1\rangle \]</div>
<p><a class="reference external" href="https://learnquantum.io/chapters/02_quantum_computing/02_03_single_qb_sys.html#quantum-observables">Recall</a> that, we can calculate the expectation value of measuring the <span class="math notranslate nohighlight">\(Z\)</span> observable as:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\langle Z \rangle_q &amp;= \langle q | Z | q \rangle_q 
\\
\\
\langle Z \rangle_q &amp;= \left[\cos\left(\frac{\theta}{2} \right)\langle 0| + \sin\left(\frac{\theta}{2} \right) \langle 1|\right] Z \left [\cos\left(\frac{\theta}{2} \right)|0\rangle + \sin\left(\frac{\theta}{2} \right)|1\rangle \right]
\\
\\
\langle Z \rangle_q &amp;= \cos^2 \left(\frac{\theta}{2} \right) - \sin^2\left(\frac{\theta}{2}\right) 
\\
\\
\langle Z \rangle_q &amp;= \cos \left(\theta\right).
\end{aligned}
\end{split}\]</div>
<p>Similarly, we can do the same for the <span class="math notranslate nohighlight">\(X\)</span> observable:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\langle X \rangle_q &amp;= \langle q | X | q \rangle_q 
\\
\\
\langle X \rangle_q &amp;= \left[\cos\left(\frac{\theta}{2} \right)\langle 0| + \sin\left(\frac{\theta}{2} \right) \langle 1|\right] X \left [\cos\left(\frac{\theta}{2} \right)|0\rangle + \sin\left(\frac{\theta}{2} \right)|1\rangle \right]
\\
\\
\langle X \rangle_q &amp;= 2\cos \left(\frac{\theta}{2} \right) \sin\left(\frac{\theta}{2}\right)
\\
\\
\langle X \rangle_q &amp;= \sin\left(\theta\right) .
\end{aligned}
\end{split}\]</div>
<p>To compute the standard deviation for each of these observables, we can use the definition of the <a class="reference external" href="https://en.wikipedia.org/wiki/Variance">variance</a> (the standard deviation squared) as a function of the expectation value:</p>
<div class="math notranslate nohighlight">
\[ \Delta {O}^2 = \langle O^2 \rangle_q - \langle O \rangle_q^2 ,\]</div>
<p>where <span class="math notranslate nohighlight">\(O\)</span> is either <span class="math notranslate nohighlight">\(Z\)</span> or <span class="math notranslate nohighlight">\(X\)</span>. For the first part of this expression, we have that <span class="math notranslate nohighlight">\(X^2 = Z^2 = I\)</span>, therefore:</p>
<div class="math notranslate nohighlight">
\[ \langle O^2 \rangle_q = \langle q | I | q \rangle = \langle q | q \rangle = 1 .\]</div>
<p>So, for the <span class="math notranslate nohighlight">\(Z\)</span> observable:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\Delta {Z} &amp;= \sqrt{\langle Z^2 \rangle_q - \langle Z \rangle_q^2} 
\\
\\
\Delta {Z} &amp;= \sqrt{1 - \cos^2 \left(\theta\right)}
\\
\\
\Delta {Z} &amp;= \big| \sin(\theta) \big|.
\end{aligned}
\end{split}\]</div>
<p>Similarly, for <span class="math notranslate nohighlight">\(X\)</span> we have:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\Delta {X} &amp;= \sqrt{\langle X^2 \rangle_q - \langle X \rangle_q^2} 
\\
\\
\Delta {X} &amp;= \sqrt{1 - \sin^2 \left(\theta\right)}
\\
\\
\Delta {X} &amp;= \big| \cos(\theta) \big|.
\end{aligned}
\end{split}\]</div>
<p>If we plot these two values, we can see how when the uncertainty of measuring one of these observables (i.e., its standard deviation) decreases, the uncertainty in the other observable increases. As a matter of fact, fot the specific case of <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Z\)</span>, when the uncertainty of one of them is minimum, the uncertainty in the other is maximum, as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">θ_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ΔZ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">))</span>
<span class="n">ΔX</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">ΔZ</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">ΔX</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
           <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-π&#39;</span><span class="p">,</span><span class="s1">&#39;-π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;π&#39;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Uncertainty $(</span><span class="se">\\</span><span class="s1">Delta O)$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Angle $(</span><span class="se">\\</span><span class="s1">theta)$ [rad]&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">Delta Z$&#39;</span><span class="p">,</span> <span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">Delta X$&#39;</span><span class="p">],</span> <span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/15c9029ccc56eef52748a2dfdb2f7ee3ed21a486dad4eb43d41ed1b297689076.png" src="../../_images/15c9029ccc56eef52748a2dfdb2f7ee3ed21a486dad4eb43d41ed1b297689076.png" />
</div>
</div>
<p>In the above, we only consider qubits in the <span class="math notranslate nohighlight">\(xy\)</span>-plane. However, we can find a more general uncertainty relation for a single qubit by using the expression that includes the relative phase term:</p>
<div class="math notranslate nohighlight">
\[|q\rangle = \cos\left(\frac{\theta}{2} \right)|0\rangle + e^{i\varphi} \sin\left(\frac{\theta}{2} \right)|1\rangle, \]</div>
<p>in combination with the definition of the <a class="reference external" href="https://en.wikipedia.org/wiki/Uncertainty_principle#Mathematical_formalism">uncertainty relation</a>, given by:</p>
<div class="math notranslate nohighlight">
\[ \Delta A \Delta B \geq \frac{1}{2} \big| \left \langle \left[ A, B \right ] \right \rangle \big| .\]</div>
<p>Here, <span class="math notranslate nohighlight">\(\left[ A, B \right ]\)</span> is known as the <a class="reference external" href="https://en.wikipedia.org/wiki/Commutator#Ring_theory">commutator</a> of observables <span class="math notranslate nohighlight">\(A, B\)</span>, which is equal to:</p>
<div class="math notranslate nohighlight">
\[\left[ A, B \right ] = AB - BA .\]</div>
<p>In the particular case of observables <span class="math notranslate nohighlight">\(X, Y, Z, \)</span> we have the following commutation relations:</p>
<div class="math notranslate nohighlight">
\[\left[ X, Y \right ] = 2iZ, \quad \left[ Y, Z \right ] = 2iX, \quad \left[ Z, X \right ] = 2iY .\]</div>
<p>So, going back to the uncertainty relation between observables <span class="math notranslate nohighlight">\(Z\)</span> and <span class="math notranslate nohighlight">\(X\)</span>, we get the following inequality:</p>
<div class="math notranslate nohighlight">
\[ \Delta Z \Delta X \geq \big| \left \langle iY \right \rangle \big| ,\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta Z\)</span>, <span class="math notranslate nohighlight">\(\Delta X\)</span>, and <span class="math notranslate nohighlight">\(\langle iY \rangle\)</span>, should of course be calculated using the expression for <span class="math notranslate nohighlight">\(|q\rangle\)</span> that includes the relative phase term <span class="math notranslate nohighlight">\(e^{i\varphi} .\)</span></p>
<p>For the first two terms we get:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\Delta Z &amp;= \sqrt{1 - \cos^2(\theta)} = \big|\sin(\theta) \big|
\\
\\
\Delta X &amp;= \sqrt{1 - \sin^2(\theta)\cos^2(\varphi)} .
\end{aligned}
\end{split}\]</div>
<p>And for the right-hand side of the inequality we have:</p>
<div class="math notranslate nohighlight">
\[ \big| \left \langle iY \right \rangle \big| = \big|\sin(\theta) \sin(\varphi) \big| .\]</div>
<p>This means that the following inequality must hold for all values of <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\varphi\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\big|\sin(\theta) \big| \sqrt{1 - \sin^2(\theta)\cos^2(\varphi)} &amp;\geq \big|\sin(\theta) \sin(\varphi) \big| 
\\
\\
\sqrt{1 - \sin^2(\theta)\cos^2(\varphi)} &amp;\geq \big| \sin(\varphi) \big| .
\end{aligned}
\end{split}\]</div>
<p>It is not very difficult to see that this must be true since the maximum value the left-hand side can take is <span class="math notranslate nohighlight">\(1\)</span>, which is always greater or equal to the maximum value the right-hand side can take, which is also <span class="math notranslate nohighlight">\(1\)</span>. However, let’s plot both sides of the inequality to see how they compare as a function of <span class="math notranslate nohighlight">\(\theta\)</span> and for a few values of <span class="math notranslate nohighlight">\(\varphi\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot uncertainty relation for X, Z observables for statevector</span>
<span class="c1"># |q⟩ = cos(θ/2)|0⟩+exp(iφ)sin(θ/2)|1⟩ using different values of θ and φ</span>

<span class="n">θ_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="n">φ_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="mi">49</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">50</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">φ_lst</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>  <span class="c1"># 3 rows, 1 column</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">φ_val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">φ_lst</span><span class="p">):</span>
    <span class="n">ΔZ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">))</span>
    <span class="n">ΔX</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">φ_val</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Ys</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">φ_val</span><span class="p">))</span>
    
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">ΔZ</span><span class="o">*</span><span class="n">ΔX</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">Delta Z </span><span class="se">\\</span><span class="s2">Delta X$&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">Ys</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$| </span><span class="se">\\</span><span class="s2">langle iY </span><span class="se">\\</span><span class="s2">rangle |$&quot;</span><span class="p">)</span>
    
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
                       <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-π&#39;</span><span class="p">,</span><span class="s1">&#39;-π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;π&#39;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">varphi = $</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">φ_val</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Angle $(</span><span class="se">\\</span><span class="s1">theta)$ [rad]&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/35c9193db2442a6493e25500c14a2e98704932a7222baee6353ebb0a32558325.png" src="../../_images/35c9193db2442a6493e25500c14a2e98704932a7222baee6353ebb0a32558325.png" />
</div>
</div>
<p>From these plots, it is clear that, for every value of <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\varphi\)</span> the uncertainty relation <span class="math notranslate nohighlight">\( \Delta Z \Delta X \geq \left| \left \langle iY \right \rangle \right| \)</span> is always satisfied.</p>
<p>We can also use Qiskit’s Estimator primitive to compute the expectation value and standard deviation for a given statevector and observable. Let’s perform this simulation and compare it with the theoretical results above:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qiskit</span><span class="w"> </span><span class="kn">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit.quantum_info</span><span class="w"> </span><span class="kn">import</span> <span class="n">Statevector</span><span class="p">,</span> <span class="n">SparsePauliOp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parameter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit_aer</span><span class="w"> </span><span class="kn">import</span> <span class="n">AerSimulator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit_ibm_runtime</span><span class="w"> </span><span class="kn">import</span> <span class="n">Estimator</span>

<span class="n">estimator</span> <span class="o">=</span> <span class="n">Estimator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">AerSimulator</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the Paramater class to define arbitrary angles of θ and φ</span>
<span class="n">θ</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s1">&#39;θ&#39;</span><span class="p">)</span>
<span class="n">φ</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s1">&#39;φ&#39;</span><span class="p">)</span>

<span class="c1"># Circuit to prepare state cos(θ/2)|0⟩+exp(iφ)sin(θ/2)|1⟩</span>
<span class="n">qc</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="n">θ</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">p</span><span class="p">(</span><span class="n">φ</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/4480aba6e1c9407fad4466485595cd42af3842d3206f3aff67a2433a7389059a.png" src="../../_images/4480aba6e1c9407fad4466485595cd42af3842d3206f3aff67a2433a7389059a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define list of angle pairs [θ,φ] (we&#39;ll only simulate one value of φ)</span>
<span class="n">φ_val</span> <span class="o">=</span> <span class="mi">9</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">10</span>
<span class="n">θ_short</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
<span class="n">angles</span> <span class="o">=</span> <span class="p">[[</span><span class="n">θ_val</span><span class="p">,</span> <span class="n">φ_val</span><span class="p">]</span> <span class="k">for</span> <span class="n">θ_val</span> <span class="ow">in</span> <span class="n">θ_short</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define list of observables:</span>
<span class="n">obsv_lst</span> <span class="o">=</span> <span class="p">[[</span><span class="n">SparsePauliOp</span><span class="p">([</span><span class="s2">&quot;Z&quot;</span><span class="p">],[</span><span class="mi">1</span><span class="p">])],</span>
            <span class="p">[</span><span class="n">SparsePauliOp</span><span class="p">([</span><span class="s2">&quot;X&quot;</span><span class="p">],[</span><span class="mi">1</span><span class="p">])],</span>
            <span class="p">[</span><span class="n">SparsePauliOp</span><span class="p">([</span><span class="s2">&quot;Y&quot;</span><span class="p">],[</span><span class="mi">1</span><span class="p">])]]</span>

<span class="c1"># NOTE: Technically, the coeff for Y should be 1j, but qiskit does not allow for imaginary</span>
<span class="c1"># coefficients. However, since we take the abs value of it, the result does not change.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run estimator simulation</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">run</span><span class="p">([(</span><span class="n">qc</span><span class="p">,</span><span class="n">obsv_lst</span><span class="p">,</span><span class="n">angles</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)])</span>
<span class="n">exp_vals</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">evs</span>

<span class="c1"># Extract standard deviations for X,Z and expectation values for Y</span>
<span class="n">ΔZ_lst</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">exp_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># ΔZ = √(1-⟨Z⟩²)</span>
<span class="n">ΔX_lst</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">exp_vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># ΔX = √(1-⟨X⟩²)</span>
<span class="n">ΔZΔX_lst</span> <span class="o">=</span> <span class="n">ΔZ_lst</span> <span class="o">*</span> <span class="n">ΔX_lst</span>          <span class="c1"># ΔZΔX</span>
<span class="n">Ys_lst</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">exp_vals</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>        <span class="c1"># |⟨Y⟩|</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot results from estimator and compare with theoretical curve</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Compute and plot theoretical values</span>
<span class="n">ΔZ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">))</span>
<span class="n">ΔX</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">φ_val</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Ys</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">φ_val</span><span class="p">))</span>
<span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">ΔZ</span><span class="o">*</span><span class="n">ΔX</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">Delta Z </span><span class="se">\\</span><span class="s2">Delta X$: calc&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">θ_arr</span><span class="p">,</span><span class="n">Ys</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$| </span><span class="se">\\</span><span class="s2">langle iY </span><span class="se">\\</span><span class="s2">rangle |$: calc&quot;</span><span class="p">)</span>

<span class="c1">#Plot results from estimator</span>
<span class="n">axes</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">θ_short</span><span class="p">,</span><span class="n">ΔZΔX_lst</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;tab:green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">Delta Z </span><span class="se">\\</span><span class="s2">Delta X$: est&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">θ_short</span><span class="p">,</span><span class="n">Ys_lst</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$| </span><span class="se">\\</span><span class="s2">langle iY </span><span class="se">\\</span><span class="s2">rangle |$: est&quot;</span><span class="p">)</span>

<span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">])</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-π&#39;</span><span class="p">,</span><span class="s1">&#39;-π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;π/2&#39;</span><span class="p">,</span> <span class="s1">&#39;π&#39;</span><span class="p">],</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.8</span><span class="p">])</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">varphi = $</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">φ_val</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Angle $(</span><span class="se">\\</span><span class="s1">theta)$ [rad]&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">Delta Z </span><span class="se">\\</span><span class="s1">Delta X \; , \; |</span><span class="se">\\</span><span class="s1">langle iY </span><span class="se">\\</span><span class="s1">rangle |$&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1af45890c96b69ca8e970cbce618470109afa6a751ec3ceb37ffe777b92ca481.png" src="../../_images/1af45890c96b69ca8e970cbce618470109afa6a751ec3ceb37ffe777b92ca481.png" />
</div>
</div>
<p>As can be seen, the results from the Estimator closely match the those from our calculations. Furthermore, these results hold true not only for the specific case of the <span class="math notranslate nohighlight">\(Z\)</span> and <span class="math notranslate nohighlight">\(X\)</span> observables we used, but for any other pair of observables. All we need to do is rely on the general uncertainty relation give by: <span class="math notranslate nohighlight">\( \Delta A \Delta B \geq \frac{1}{2} \big| \left \langle \left[ A, B \right ] \right \rangle \big| .\)</span></p>
</section>
</section>
<section id="quantum-money">
<h2>2. Quantum Money<a class="headerlink" href="#quantum-money" title="Link to this heading">#</a></h2>
<p>One of the main issues with physical currency (like bills, coins, checks, etc.) is that they can be counterfeited relatively easily. Someone with the right set of skills and equipment can replicate as many bills as they want and deposit them in a bank account. If done with enough care, even the bank will have a hard time realizing the money is fake before the criminal has already withdrawn or transfer the funds. The <a class="reference external" href="https://en.wikipedia.org/wiki/Quantum_money">quantum money</a> scheme was proposed as a potential way to avoid this type of scenarios by associating a quantum state with each piece of currency.</p>
<p>A simple way to describe this idea is by the use of quantum coins, which can be thought of as tangible objects with an inscribed public serial number <span class="math notranslate nohighlight">\(S\)</span> and a corresponding quantum state <span class="math notranslate nohighlight">\(|\$\rangle\)</span>:</p>
<a class="reference internal image-reference" href="../../_images/03_01_05_coins.png"><img alt="../../_images/03_01_05_coins.png" class="align-center" src="../../_images/03_01_05_coins.png" style="width: 500px;" />
</a>
<p>Physically, each coin could consist of a piece of material where <span class="math notranslate nohighlight">\(n\)</span> electrons have been isolated and each of their spins has been randomly configured to point in one of four possible directions:</p>
<a class="reference internal image-reference" href="../../_images/03_01_06_states.png"><img alt="../../_images/03_01_06_states.png" class="align-center" src="../../_images/03_01_06_states.png" style="width: 450px;" />
</a>
<p>Of course, such technology does not exist today but it is theoretically possible to implement it.</p>
<p>When creating a coin, the bank generates a unique serial number <span class="math notranslate nohighlight">\(S\)</span> and associates with it an <span class="math notranslate nohighlight">\(n\)</span>-qubit state <span class="math notranslate nohighlight">\(|\$\rangle\)</span>, where each qubit can be in one of the four available states: <span class="math notranslate nohighlight">\(\big \{|0\rangle, |1\rangle, |+\rangle, |-\rangle \big \} .\)</span> This is done by initializing all qubits in the <span class="math notranslate nohighlight">\(|0\rangle\)</span> state, and then flipping each bit and changing its basis at random:</p>
<a class="reference internal image-reference" href="../../_images/03_01_07_state_select.png"><img alt="../../_images/03_01_07_state_select.png" class="align-center" src="../../_images/03_01_07_state_select.png" style="width: 450px;" />
</a>
<p>For example, if the bank were to use only <span class="math notranslate nohighlight">\(6\)</span> qubits, a valid set of operations would be:</p>
<div class="math notranslate nohighlight">
\[ U = II \otimes II \otimes HI \otimes IX \otimes HX \otimes HI ,\]</div>
<p>which would result in a coin with a statevector given by:</p>
<div class="math notranslate nohighlight">
\[ |\$\rangle = |0\rangle \otimes |0\rangle \otimes |+\rangle \otimes |1\rangle \otimes |-\rangle \otimes |+\rangle .\]</div>
<p>In Weisner’s original scheme, the serial number and the quantum state are completely unrelated to each other; the bank simply uses <span class="math notranslate nohighlight">\(S\)</span> as a public identifier to keep track of which state a given coin <span class="math notranslate nohighlight">\(k\)</span> is in. The bank then holds an internal database with each serial number and the associated list of quantum gates necessary to generate the state of each coin:</p>
<p>| Coin number | Serial Number <span class="math notranslate nohighlight">\(S\)</span> | Gates to generate <span class="math notranslate nohighlight">\(|\$\rangle\)</span> |
| :-: | :-: | :-: |
| $<span class="math notranslate nohighlight">\(1\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(1D062F3ABA\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\( II \otimes \dots \otimes HI \otimes II \)</span><span class="math notranslate nohighlight">\( |
| \)</span><span class="math notranslate nohighlight">\(2\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(9B5ACB3425\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(HX \otimes \dots \otimes IX \otimes HX \)</span><span class="math notranslate nohighlight">\( | 
| \)</span><span class="math notranslate nohighlight">\(\vdots\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(\vdots\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(\vdots\)</span><span class="math notranslate nohighlight">\(                                 |
| \)</span><span class="math notranslate nohighlight">\(k\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(E66F5516B3\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(IX \otimes \dots \otimes HX \otimes HI \)</span><span class="math notranslate nohighlight">\( |
| \)</span><span class="math notranslate nohighlight">\(\vdots\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(\vdots\)</span><span class="math notranslate nohighlight">\( | \)</span><span class="math notranslate nohighlight">\(\vdots\)</span>$                                 |</p>
<p>To avoid having to keep record of every single serial number and string of gates, protocols like <a class="reference external" href="https://static.aminer.org/pdf/PDF/000/120/546/quantum_cryptography_or_unforgeable_subway_tokens.pdf">BBBW</a> suggest that one could generate the quantum state directly from the serial number by using a pseudo-random key generator, but here we will skip this complication.</p>
<p>Let’s use NumPy and Qiskit to create a function such as the one a bank would use to generate a valid coin state at random:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">Math</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qiskit.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_distribution</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to generate a coin state at random</span>
<span class="k">def</span><span class="w"> </span><span class="nf">gen_coin</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    
    <span class="c1"># statevector for display purposes</span>
    <span class="n">sv</span> <span class="o">=</span> <span class="s1">&#39;|</span><span class="se">\\</span><span class="s1">$ </span><span class="se">\\</span><span class="s1">rangle = &#39;</span>
    
    <span class="c1"># n-qubit circuit</span>
    <span class="n">qc</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    
    <span class="c1"># Iterate over each qubit</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>        
        <span class="n">state</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">])</span>
        
        <span class="c1"># select if bit should be flipped</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]:</span> <span class="n">qc</span><span class="o">.</span><span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">qc</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        
        <span class="c1"># select if basis should be change</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]:</span> <span class="n">qc</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">qc</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    
        <span class="n">sv</span> <span class="o">+=</span> <span class="s1">&#39;|&#39;</span><span class="o">+</span><span class="n">state</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">rangle </span><span class="se">\\</span><span class="s1">otimes&#39;</span>
        
    <span class="n">sv</span> <span class="o">=</span> <span class="n">sv</span><span class="p">[:</span><span class="o">-</span><span class="mi">8</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">qc</span><span class="p">,</span> <span class="n">sv</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select number of qubits and generate coin</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">6</span> 
<span class="n">qc</span><span class="p">,</span> <span class="n">sv_disp</span> <span class="o">=</span> <span class="n">gen_coin</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="c1"># Save Statevector object generated by the quantum circuit</span>
<span class="n">sv_coin</span> <span class="o">=</span> <span class="n">Statevector</span><span class="p">(</span><span class="n">qc</span><span class="p">)</span> 

<span class="c1"># Display circuit and statevector for n qubits</span>
<span class="n">display</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">idle_wires</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Math</span><span class="p">(</span><span class="n">sv_disp</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/4c1774013cb047e2985b2e784a375a2ef28c08adfaf6b4f53f123c8bc2ea1c0e.png" src="../../_images/4c1774013cb047e2985b2e784a375a2ef28c08adfaf6b4f53f123c8bc2ea1c0e.png" />
<div class="output text_latex math notranslate nohighlight">
\[\displaystyle |\$ \rangle = |1\rangle \otimes|+\rangle \otimes|1\rangle \otimes|0\rangle \otimes|0\rangle \otimes|-\rangle\]</div>
</div>
</div>
<p>Once a coin is issued, a customer can return to one of the bank’s branches to verify if the coin is valid. The bank will check the coin’s serial number and pull out the sequence of gates associated with it. By applying the inverse of such circuit and measuring the state, a valid coin will <strong>always</strong> return an all-zeros string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate inverse of circuit</span>
<span class="n">qc_inv</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="n">qc_inv</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/22f2b8677536d275843454e0e90bca7cc2b9e8057ecc920d7384e4464a29927e.png" src="../../_images/22f2b8677536d275843454e0e90bca7cc2b9e8057ecc920d7384e4464a29927e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apply inverse circuit to coin statevector</span>
<span class="n">sv_check</span> <span class="o">=</span> <span class="n">sv_coin</span><span class="o">.</span><span class="n">evolve</span><span class="p">(</span><span class="n">qc_inv</span><span class="p">)</span>

<span class="c1"># Display probability of measuring all-zeros string</span>
<span class="n">result_probs</span> <span class="o">=</span> <span class="n">sv_check</span><span class="o">.</span><span class="n">probabilities_dict</span><span class="p">(</span><span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plot_distribution</span><span class="p">(</span><span class="n">result_probs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/17c2343d28152ba0349e86168d015685e1a9ff0553491efc7f0fa9b1a765246a.png" src="../../_images/17c2343d28152ba0349e86168d015685e1a9ff0553491efc7f0fa9b1a765246a.png" />
</div>
</div>
<p>Let’s now consider the scenario of a criminal who wants to create a copy (or multiple copies) of a valid coin. Even if he has the same equipment as the bank to read the coin’s state, he does not know the circuit that was originally used to generate the coin’s statevector. If he were to directly measure the coin to try to figure out the state without applying any gates, roughly half of the resulting bits will take a random value because they were initialized in the sign basis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Probabilities for each possible outcome when measuring in bit basis</span>
<span class="n">bit_probs</span> <span class="o">=</span> <span class="n">sv_coin</span><span class="o">.</span><span class="n">probabilities_dict</span><span class="p">(</span><span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plot_distribution</span><span class="p">(</span><span class="n">bit_probs</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/c3c29e96560b5262a527c69740b77311e8b6d697a3b94ae5efdc222a42f01648.png" src="../../_images/c3c29e96560b5262a527c69740b77311e8b6d697a3b94ae5efdc222a42f01648.png" />
</div>
</div>
<p>On the other hand, if the criminal were to instead try to measure in the sign basis by first applying a circuit with Hadamard gates on all qubits, the other half of the qbuits will return a random outcome since they were initialized in the bit basis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate circuit with Hadamard gates</span>
<span class="n">qc_h</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">qc_h</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>

<span class="c1"># Apply H gates to coins state</span>
<span class="n">sign_coin</span> <span class="o">=</span> <span class="n">sv_coin</span><span class="o">.</span><span class="n">evolve</span><span class="p">(</span><span class="n">qc_h</span><span class="p">)</span>

<span class="c1"># Probabilities for each possible outcome when measuring in sign basis</span>
<span class="n">sign_probs</span> <span class="o">=</span> <span class="n">sign_coin</span><span class="o">.</span><span class="n">probabilities_dict</span><span class="p">(</span><span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plot_distribution</span><span class="p">(</span><span class="n">sign_probs</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/fe571c7d5dea0b48f3dbba10ff29096f4c0e91ea8f44a494e80563579e5757f1.png" src="../../_images/fe571c7d5dea0b48f3dbba10ff29096f4c0e91ea8f44a494e80563579e5757f1.png" />
</div>
</div>
<p>Furthermore, after performing just one measurement, the coin’s state will get projected onto just one of the possible states, destroying its original value. This prevents the criminal from attempting to use different measurement bases until he discovers the true state’s value. This uncertainty in the state’s outcome is due to the fact that states <span class="math notranslate nohighlight">\(\big \{|+\rangle, |-\rangle \big \}\)</span> are prepared in a conjugate basis to that of states <span class="math notranslate nohighlight">\(\big \{|0\rangle, |1\rangle \big \}\)</span>.</p>
<p>As a matter of fact, the probability of the criminal successfully guessing the state grows with the number of qubits, making it increasingly harder to duplicate a coin. Since each qubit can be in one out of <span class="math notranslate nohighlight">\(4\)</span> possible states, the probability of randomly guessing the correct state is:</p>
<div class="math notranslate nohighlight">
\[\mathbb{P}(\$) = \left(\frac{1}{4}\right)^n ,\]</div>
<p>which for a value as small as what we have in our example (<span class="math notranslate nohighlight">\(n = 6\)</span>), already gives an extremely small chance of success:</p>
<div class="math notranslate nohighlight">
\[\mathbb{P}(\$) = \left(\frac{1}{4}\right)^6 \approx 0.000244 .\]</div>
<p>Another interesting note is that, even if the criminal had sophisticated technology to “couple” the qubits of a valid coin issued by the bank with the qubits of a fresh coin initialized in the all-zeros state, we know that due to the <a class="reference external" href="https://learnquantum.io/chapters/02_quantum_computing/02_04_multi_qb_sys.html#the-copy-gate-no-cloning-theorem">no-cloning theorem</a> it will be impossible to create a replica of the original coin. At best, the criminal could create an entangled copy, but once one of the two coins is verified by the bank, the second coin’s state will collapse making it unusable.</p>
<p>This scheme of having physical money protected by quantum uncertainty does not seem of much practical use in today’s virtual world. However, this same idea could be translated into a “virtual” quantum money protocol, where customers could have access to quantum “wallets” living in interconnected quantum memory servers.</p>
<p>Now, one could argue that for virtual currency, the <a class="reference external" href="https://en.wikipedia.org/wiki/Double-spending">double-spending problem</a> can be easily solved by having a bank (or a <a class="reference external" href="https://en.wikipedia.org/wiki/Blockchain">blockchain</a> in the case of a decentralized system) simply check if the classical serial number associated with an asset has already been used, rendering the quantum money scheme useless. But with some modifications of the quantum money scheme, such as those introduced by quantum lighting (<a class="reference external" href="https://arxiv.org/abs/1711.02276">Zhandry18</a>), it is potentially possible to have both protection and speed offered by quantum money, with the decentralized and public-key advantages offered by blockchain.</p>
</section>
<section id="footnotes">
<h2>Footnotes<a class="headerlink" href="#footnotes" title="Link to this heading">#</a></h2>
<p><a name="footnote1"></a><span style="font-size: smaller;"><span class="math notranslate nohighlight">\(^*\)</span>Some <a class="reference external" href="https://orsattath.wordpress.com/2021/08/14/stephen-wiesner/">accounts</a> seem to suggest that Weisner proposed this idea back in 1969 but it was not taken seriously enough, so his original manuscript was rejected. The paper was latter submitted and published in 1983. (<a class="reference internal" href="#back1"><span class="xref myst">go back</span></a>)</span></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters/03_quantum_protocols"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../02_quantum_computing/02_05_quantum_blocks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Quantum Building Blocks</p>
      </div>
    </a>
    <a class="right-next"
       href="03_02_bell_chsh.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bell Inequalities (CHSH)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-uncertainty">1. Quantum Uncertainty</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-quantum-uncertainty">1.1 Understanding Quantum Uncertainty</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-uncertainty-with-qubits">1.2 Quantum Uncertainty with Qubits</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantum-money">2. Quantum Money</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnotes">Footnotes</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Diego Emilio Serrano
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>